(()=>{"use strict";async function e(){const e=document.querySelector("#input").value;var n;""!=e&&await o((n=e,n.split(" ").join("+"))).then((e=>{!function(e){i(r(e)),t(r(e)),function(){const e=document.querySelector("#error");e.textContent="",e.className="error",document.querySelector("#input").value=""}()}(e)})).catch()}function t(e){const t=document.querySelector(".main");switch(e.weather){case"Rain":t.style.backgroundImage="url('./imgs/rain.jpg')";break;case"Clouds":t.style.backgroundImage="url('./imgs/cloudy.jpg')";break;case"Clear":t.style.backgroundImage="url('./imgs/sunny.jpg')";break;case"Snow":t.style.backgroundImage="url('./imgs/snow.jpg')";break;case"Haze":t.style.backgroundImage="url('./imgs/haze.jpg')";break;case"Mist":t.style.backgroundImage="url('./imgs/mist.jpg')";break;case"Smoke":t.style.backgroundImage="url('./imgs/smoke.jpg')"}}function n(){const e=document.querySelector("#error");e.textContent="No matching location found!",e.className="error active"}async function o(e){try{let t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=bd02432f77556bedd13769e0dd339369`);if(t.ok){let e=await t.json();return console.log(e),e}n()}catch(e){n()}}function r(e){let t={};return t.weather=e.weather[0].main,t.city=e.name,t.country=e.sys.country,t.temperature=e.main.temp,t.clouds=e.clouds.all,t["feels-like"]=e.main.feels_like,t.humidity=e.main.humidity,t["wind-speed"]=e.wind.speed,t.wind_direction=e.wind.deg,console.log(t),t}function a(e,t){return"US"==e.country?`${(n=t,Math.round(10*(1.8*(parseFloat(n)-273.15)+32))/10).toString()}<sup><span>&#8457;</span></sup>`:`${function(e){return Math.round(10*(parseFloat(e)-273.15))/10}(t).toString()}<sup><span>&#8451;</span></sup>`;var n}function i(e){const t=document.getElementById("weather"),n=document.getElementById("location"),o=document.getElementById("temp"),r=document.getElementById("feels-like"),i=document.getElementById("wind-speed"),c=document.getElementById("humidity");t.textContent=e.weather,n.textContent=e.city+", "+e.country,o.innerHTML=a(e,e.temperature),r.innerHTML="Feels Like: "+a(e,e["feels-like"]),i.textContent=function(e,t){return"US"==e.country?`${(n=t,Math.round(2.23694*parseFloat(n)*10)/10).toString()} mph`:`${function(e){return Math.round(36*parseFloat(e))/10}(t).toString()} km/h`;var n}(e,e["wind-speed"]),function(e){const t=document.createElement("i");t.classList.add("fas"),t.classList.add("fa-arrow-right");const n=document.getElementById("wind-direction");n.innerHTML="",n.style.transform=`rotate(${e}deg)`,n.appendChild(t)}(e.wind_direction),c.textContent="Humidity: "+e.humidity+" %"}o("san+jose").then((e=>{i(r(e)),t(r(e))})),document.querySelector("#submit").addEventListener("click",e),document.querySelector("#input").addEventListener("keyup",(t=>{13===t.keyCode&&e()}))})();